shadow$provide.module$node_modules$three$examples$jsm$controls$OrbitControls=function(global,require,module,exports){function _typeof(obj$jscomp$0){_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj$jscomp$0)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];
descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return self}function _get(target$jscomp$0,property$jscomp$0,receiver){_get="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){for(;!Object.prototype.hasOwnProperty.call(target,property)&&(target=_getPrototypeOf(target),null!==target););if(target)return property=Object.getOwnPropertyDescriptor(target,property),property.get?property.get.call(receiver):property.value};return _get(target$jscomp$0,property$jscomp$0,receiver||target$jscomp$0)}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=
Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,
p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}function onPointerDown(event){!1!==this.enabled&&(0===this._pointers.length&&(this.domElement.setPointerCapture(event.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._isTrackingPointer(event)||(this._addPointer(event),"touch"===event.pointerType?this._onTouchStart(event):
this._onMouseDown(event)))}function onPointerMove(event){!1!==this.enabled&&("touch"===event.pointerType?this._onTouchMove(event):this._onMouseMove(event))}function onPointerUp(event){this._removePointer(event);switch(this._pointers.length){case 0:this.domElement.releasePointerCapture(event.pointerId);this.domElement.removeEventListener("pointermove",this._onPointerMove);this.domElement.removeEventListener("pointerup",this._onPointerUp);this.dispatchEvent(_endEvent);this.state=_STATE.NONE;break;case 1:event=
this._pointers[0];var position=this._pointerPositions[event];this._onTouchStart({pointerId:event,pageX:position.x,pageY:position.y})}}function onMouseDown(event){switch(event.button){case 0:var mouseAction=this.mouseButtons.LEFT;break;case 1:mouseAction=this.mouseButtons.MIDDLE;break;case 2:mouseAction=this.mouseButtons.RIGHT;break;default:mouseAction=-1}switch(mouseAction){case _three.MOUSE.DOLLY:if(!1===this.enableZoom)return;this._handleMouseDownDolly(event);this.state=_STATE.DOLLY;break;case _three.MOUSE.ROTATE:if(event.ctrlKey||
event.metaKey||event.shiftKey){if(!1===this.enablePan)return;this._handleMouseDownPan(event);this.state=_STATE.PAN}else{if(!1===this.enableRotate)return;this._handleMouseDownRotate(event);this.state=_STATE.ROTATE}break;case _three.MOUSE.PAN:if(event.ctrlKey||event.metaKey||event.shiftKey){if(!1===this.enableRotate)return;this._handleMouseDownRotate(event);this.state=_STATE.ROTATE}else{if(!1===this.enablePan)return;this._handleMouseDownPan(event);this.state=_STATE.PAN}break;default:this.state=_STATE.NONE}this.state!==
_STATE.NONE&&this.dispatchEvent(_startEvent)}function onMouseMove(event){switch(this.state){case _STATE.ROTATE:if(!1===this.enableRotate)break;this._handleMouseMoveRotate(event);break;case _STATE.DOLLY:if(!1===this.enableZoom)break;this._handleMouseMoveDolly(event);break;case _STATE.PAN:!1!==this.enablePan&&this._handleMouseMovePan(event)}}function onMouseWheel(event){!1!==this.enabled&&!1!==this.enableZoom&&this.state===_STATE.NONE&&(event.preventDefault(),this.dispatchEvent(_startEvent),this._handleMouseWheel(this._customWheelEvent(event)),
this.dispatchEvent(_endEvent))}function onKeyDown(event){!1!==this.enabled&&this._handleKeyDown(event)}function onTouchStart(event){this._trackPointer(event);switch(this._pointers.length){case 1:switch(this.touches.ONE){case _three.TOUCH.ROTATE:if(!1===this.enableRotate)return;this._handleTouchStartRotate(event);this.state=_STATE.TOUCH_ROTATE;break;case _three.TOUCH.PAN:if(!1===this.enablePan)return;this._handleTouchStartPan(event);this.state=_STATE.TOUCH_PAN;break;default:this.state=_STATE.NONE}break;
case 2:switch(this.touches.TWO){case _three.TOUCH.DOLLY_PAN:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchStartDollyPan(event);this.state=_STATE.TOUCH_DOLLY_PAN;break;case _three.TOUCH.DOLLY_ROTATE:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchStartDollyRotate(event);this.state=_STATE.TOUCH_DOLLY_ROTATE;break;default:this.state=_STATE.NONE}break;default:this.state=_STATE.NONE}this.state!==_STATE.NONE&&this.dispatchEvent(_startEvent)}function onTouchMove(event){this._trackPointer(event);
switch(this.state){case _STATE.TOUCH_ROTATE:if(!1===this.enableRotate)break;this._handleTouchMoveRotate(event);this.update();break;case _STATE.TOUCH_PAN:if(!1===this.enablePan)break;this._handleTouchMovePan(event);this.update();break;case _STATE.TOUCH_DOLLY_PAN:if(!1===this.enableZoom&&!1===this.enablePan)break;this._handleTouchMoveDollyPan(event);this.update();break;case _STATE.TOUCH_DOLLY_ROTATE:if(!1===this.enableZoom&&!1===this.enableRotate)break;this._handleTouchMoveDollyRotate(event);this.update();
break;default:this.state=_STATE.NONE}}function onContextMenu(event){!1!==this.enabled&&event.preventDefault()}function interceptControlDown(event){"Control"===event.key&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function interceptControlUp(event){"Control"===event.key&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}Object.defineProperty(exports,
"__esModule",{value:!0});exports.OrbitControls=void 0;var _three=require("module$node_modules$three$build$three_cjs"),_changeEvent={type:"change"},_startEvent={type:"start"},_endEvent={type:"end"},_ray=new _three.Ray,_plane=new _three.Plane,_TILT_LIMIT=Math.cos(70*_three.MathUtils.DEG2RAD),_v=new _three.Vector3,_twoPI=2*Math.PI,_STATE={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};global=function(_Controls){function OrbitControls(object){var _this=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(!(this instanceof OrbitControls))throw new TypeError("Cannot call a class as a function");_this=_getPrototypeOf(OrbitControls).call(this,object,_this);_this=!_this||"object"!==_typeof(_this)&&"function"!==typeof _this?_assertThisInitialized(this):_this;_this.state=_STATE.NONE;_this.target=new _three.Vector3;_this.cursor=new _three.Vector3;_this.minDistance=0;_this.maxDistance=Infinity;_this.minZoom=0;_this.maxZoom=Infinity;_this.minTargetRadius=
0;_this.maxTargetRadius=Infinity;_this.minPolarAngle=0;_this.maxPolarAngle=Math.PI;_this.minAzimuthAngle=-Infinity;_this.maxAzimuthAngle=Infinity;_this.enableDamping=!1;_this.dampingFactor=.05;_this.enableZoom=!0;_this.zoomSpeed=1;_this.enableRotate=!0;_this.rotateSpeed=1;_this.keyRotateSpeed=1;_this.enablePan=!0;_this.panSpeed=1;_this.screenSpacePanning=!0;_this.keyPanSpeed=7;_this.zoomToCursor=!1;_this.autoRotate=!1;_this.autoRotateSpeed=2;_this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",
BOTTOM:"ArrowDown"};_this.mouseButtons={LEFT:_three.MOUSE.ROTATE,MIDDLE:_three.MOUSE.DOLLY,RIGHT:_three.MOUSE.PAN};_this.touches={ONE:_three.TOUCH.ROTATE,TWO:_three.TOUCH.DOLLY_PAN};_this.target0=_this.target.clone();_this.position0=_this.object.position.clone();_this.zoom0=_this.object.zoom;_this._domElementKeyEvents=null;_this._lastPosition=new _three.Vector3;_this._lastQuaternion=new _three.Quaternion;_this._lastTargetPosition=new _three.Vector3;_this._quat=(new _three.Quaternion).setFromUnitVectors(object.up,
new _three.Vector3(0,1,0));_this._quatInverse=_this._quat.clone().invert();_this._spherical=new _three.Spherical;_this._sphericalDelta=new _three.Spherical;_this._scale=1;_this._panOffset=new _three.Vector3;_this._rotateStart=new _three.Vector2;_this._rotateEnd=new _three.Vector2;_this._rotateDelta=new _three.Vector2;_this._panStart=new _three.Vector2;_this._panEnd=new _three.Vector2;_this._panDelta=new _three.Vector2;_this._dollyStart=new _three.Vector2;_this._dollyEnd=new _three.Vector2;_this._dollyDelta=
new _three.Vector2;_this._dollyDirection=new _three.Vector3;_this._mouse=new _three.Vector2;_this._performCursorZoom=!1;_this._pointers=[];_this._pointerPositions={};_this._controlActive=!1;_this._onPointerMove=onPointerMove.bind(_assertThisInitialized(_this));_this._onPointerDown=onPointerDown.bind(_assertThisInitialized(_this));_this._onPointerUp=onPointerUp.bind(_assertThisInitialized(_this));_this._onContextMenu=onContextMenu.bind(_assertThisInitialized(_this));_this._onMouseWheel=onMouseWheel.bind(_assertThisInitialized(_this));
_this._onKeyDown=onKeyDown.bind(_assertThisInitialized(_this));_this._onTouchStart=onTouchStart.bind(_assertThisInitialized(_this));_this._onTouchMove=onTouchMove.bind(_assertThisInitialized(_this));_this._onMouseDown=onMouseDown.bind(_assertThisInitialized(_this));_this._onMouseMove=onMouseMove.bind(_assertThisInitialized(_this));_this._interceptControlDown=interceptControlDown.bind(_assertThisInitialized(_this));_this._interceptControlUp=interceptControlUp.bind(_assertThisInitialized(_this));null!==
_this.domElement&&_this.connect(_this.domElement);_this.update();return _this}_inherits(OrbitControls,_Controls);_createClass(OrbitControls,[{key:"connect",value:function(element){_get(_getPrototypeOf(OrbitControls.prototype),"connect",this).call(this,element);this.domElement.addEventListener("pointerdown",this._onPointerDown);this.domElement.addEventListener("pointercancel",this._onPointerUp);this.domElement.addEventListener("contextmenu",this._onContextMenu);this.domElement.addEventListener("wheel",
this._onMouseWheel,{passive:!1});this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0});this.domElement.style.touchAction="none"}},{key:"disconnect",value:function(){this.domElement.removeEventListener("pointerdown",this._onPointerDown);this.domElement.removeEventListener("pointermove",this._onPointerMove);this.domElement.removeEventListener("pointerup",this._onPointerUp);this.domElement.removeEventListener("pointercancel",this._onPointerUp);this.domElement.removeEventListener("wheel",
this._onMouseWheel);this.domElement.removeEventListener("contextmenu",this._onContextMenu);this.stopListenToKeyEvents();this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0});this.domElement.style.touchAction="auto"}},{key:"dispose",value:function(){this.disconnect()}},{key:"getPolarAngle",value:function(){return this._spherical.phi}},{key:"getAzimuthalAngle",value:function(){return this._spherical.theta}},{key:"getDistance",value:function(){return this.object.position.distanceTo(this.target)}},
{key:"listenToKeyEvents",value:function(domElement){domElement.addEventListener("keydown",this._onKeyDown);this._domElementKeyEvents=domElement}},{key:"stopListenToKeyEvents",value:function(){null!==this._domElementKeyEvents&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}},{key:"saveState",value:function(){this.target0.copy(this.target);this.position0.copy(this.object.position);this.zoom0=this.object.zoom}},{key:"reset",value:function(){this.target.copy(this.target0);
this.object.position.copy(this.position0);this.object.zoom=this.zoom0;this.object.updateProjectionMatrix();this.dispatchEvent(_changeEvent);this.update();this.state=_STATE.NONE}},{key:"update",value:function(){var deltaTime=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,position=this.object.position;_v.copy(position).sub(this.target);_v.applyQuaternion(this._quat);this._spherical.setFromVector3(_v);this.autoRotate&&this.state===_STATE.NONE&&this._rotateLeft(this._getAutoRotationAngle(deltaTime));
this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);deltaTime=this.minAzimuthAngle;var max=this.maxAzimuthAngle;isFinite(deltaTime)&&isFinite(max)&&(deltaTime<-Math.PI?deltaTime+=_twoPI:deltaTime>Math.PI&&(deltaTime-=_twoPI),max<-Math.PI?max+=_twoPI:max>Math.PI&&(max-=_twoPI),this._spherical.theta=deltaTime<=
max?Math.max(deltaTime,Math.min(max,this._spherical.theta)):this._spherical.theta>(deltaTime+max)/2?Math.max(deltaTime,this._spherical.theta):Math.min(max,this._spherical.theta));this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi));this._spherical.makeSafe();!0===this.enableDamping?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset);this.target.sub(this.cursor);this.target.clampLength(this.minTargetRadius,this.maxTargetRadius);
this.target.add(this.cursor);deltaTime=!1;this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera?this._spherical.radius=this._clampDistance(this._spherical.radius):(deltaTime=this._spherical.radius,this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),deltaTime=deltaTime!=this._spherical.radius);_v.setFromSpherical(this._spherical);_v.applyQuaternion(this._quatInverse);position.copy(this.target).add(_v);this.object.lookAt(this.target);!0===this.enableDamping?
(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0));this.zoomToCursor&&this._performCursorZoom?(position=null,this.object.isPerspectiveCamera?(deltaTime=_v.length(),position=this._clampDistance(deltaTime*this._scale),deltaTime-=position,this.object.position.addScaledVector(this._dollyDirection,deltaTime),this.object.updateMatrixWorld(),deltaTime=
!!deltaTime):this.object.isOrthographicCamera?(position=new _three.Vector3(this._mouse.x,this._mouse.y,0),position.unproject(this.object),deltaTime=this.object.zoom,this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),deltaTime=deltaTime!==this.object.zoom,max=new _three.Vector3(this._mouse.x,this._mouse.y,0),max.unproject(this.object),this.object.position.sub(max).add(position),this.object.updateMatrixWorld(),position=_v.length()):
(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1),null!==position&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(position).add(this.object.position):(_ray.origin.copy(this.object.position),_ray.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(_ray.direction))<_TILT_LIMIT?this.object.lookAt(this.target):(_plane.setFromNormalAndCoplanarPoint(this.object.up,
this.target),_ray.intersectPlane(_plane,this.target))))):this.object.isOrthographicCamera&&(position=this.object.zoom,this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),position!==this.object.zoom&&(this.object.updateProjectionMatrix(),deltaTime=!0));this._scale=1;this._performCursorZoom=!1;return deltaTime||1E-6<this._lastPosition.distanceToSquared(this.object.position)||1E-6<8*(1-this._lastQuaternion.dot(this.object.quaternion))||1E-6<this._lastTargetPosition.distanceToSquared(this.target)?
(this.dispatchEvent(_changeEvent),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}},{key:"_getAutoRotationAngle",value:function(deltaTime){return null!==deltaTime?_twoPI/60*this.autoRotateSpeed*deltaTime:_twoPI/60/60*this.autoRotateSpeed}},{key:"_getZoomScale",value:function(delta){return Math.pow(.95,this.zoomSpeed*Math.abs(.01*delta))}},{key:"_rotateLeft",value:function(angle){this._sphericalDelta.theta-=
angle}},{key:"_rotateUp",value:function(angle){this._sphericalDelta.phi-=angle}},{key:"_panLeft",value:function(distance,objectMatrix){_v.setFromMatrixColumn(objectMatrix,0);_v.multiplyScalar(-distance);this._panOffset.add(_v)}},{key:"_panUp",value:function(distance,objectMatrix){!0===this.screenSpacePanning?_v.setFromMatrixColumn(objectMatrix,1):(_v.setFromMatrixColumn(objectMatrix,0),_v.crossVectors(this.object.up,_v));_v.multiplyScalar(distance);this._panOffset.add(_v)}},{key:"_pan",value:function(deltaX,
deltaY){var element=this.domElement;if(this.object.isPerspectiveCamera){_v.copy(this.object.position).sub(this.target);var targetDistance=_v.length();targetDistance*=Math.tan(this.object.fov/2*Math.PI/180);this._panLeft(2*deltaX*targetDistance/element.clientHeight,this.object.matrix);this._panUp(2*deltaY*targetDistance/element.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(deltaX*(this.object.right-this.object.left)/this.object.zoom/element.clientWidth,this.object.matrix),
this._panUp(deltaY*(this.object.top-this.object.bottom)/this.object.zoom/element.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}},{key:"_dollyOut",value:function(dollyScale){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=dollyScale:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}},{key:"_dollyIn",
value:function(dollyScale){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=dollyScale:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}},{key:"_updateZoomParameters",value:function(x,y){if(this.zoomToCursor){this._performCursorZoom=!0;var rect=this.domElement.getBoundingClientRect();y-=rect.top;var h=rect.height;this._mouse.x=(x-rect.left)/rect.width*2-1;this._mouse.y=2*-(y/h)+1;this._dollyDirection.set(this._mouse.x,
this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}}},{key:"_clampDistance",value:function(dist){return Math.max(this.minDistance,Math.min(this.maxDistance,dist))}},{key:"_handleMouseDownRotate",value:function(event){this._rotateStart.set(event.clientX,event.clientY)}},{key:"_handleMouseDownDolly",value:function(event){this._updateZoomParameters(event.clientX,event.clientX);this._dollyStart.set(event.clientX,event.clientY)}},{key:"_handleMouseDownPan",value:function(event){this._panStart.set(event.clientX,
event.clientY)}},{key:"_handleMouseMoveRotate",value:function(event){this._rotateEnd.set(event.clientX,event.clientY);this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);event=this.domElement;this._rotateLeft(_twoPI*this._rotateDelta.x/event.clientHeight);this._rotateUp(_twoPI*this._rotateDelta.y/event.clientHeight);this._rotateStart.copy(this._rotateEnd);this.update()}},{key:"_handleMouseMoveDolly",value:function(event){this._dollyEnd.set(event.clientX,
event.clientY);this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart);0<this._dollyDelta.y?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):0>this._dollyDelta.y&&this._dollyIn(this._getZoomScale(this._dollyDelta.y));this._dollyStart.copy(this._dollyEnd);this.update()}},{key:"_handleMouseMovePan",value:function(event){this._panEnd.set(event.clientX,event.clientY);this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed);this._pan(this._panDelta.x,this._panDelta.y);
this._panStart.copy(this._panEnd);this.update()}},{key:"_handleMouseWheel",value:function(event){this._updateZoomParameters(event.clientX,event.clientY);0>event.deltaY?this._dollyIn(this._getZoomScale(event.deltaY)):0<event.deltaY&&this._dollyOut(this._getZoomScale(event.deltaY));this.update()}},{key:"_handleKeyDown",value:function(event){var needsUpdate=!1;switch(event.code){case this.keys.UP:event.ctrlKey||event.metaKey||event.shiftKey?this.enableRotate&&this._rotateUp(_twoPI*this.keyRotateSpeed/
this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed);needsUpdate=!0;break;case this.keys.BOTTOM:event.ctrlKey||event.metaKey||event.shiftKey?this.enableRotate&&this._rotateUp(-_twoPI*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed);needsUpdate=!0;break;case this.keys.LEFT:event.ctrlKey||event.metaKey||event.shiftKey?this.enableRotate&&this._rotateLeft(_twoPI*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,
0);needsUpdate=!0;break;case this.keys.RIGHT:event.ctrlKey||event.metaKey||event.shiftKey?this.enableRotate&&this._rotateLeft(-_twoPI*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),needsUpdate=!0}needsUpdate&&(event.preventDefault(),this.update())}},{key:"_handleTouchStartRotate",value:function(event){if(1===this._pointers.length)this._rotateStart.set(event.pageX,event.pageY);else{var position=this._getSecondPointerPosition(event);this._rotateStart.set(.5*
(event.pageX+position.x),.5*(event.pageY+position.y))}}},{key:"_handleTouchStartPan",value:function(event){if(1===this._pointers.length)this._panStart.set(event.pageX,event.pageY);else{var position=this._getSecondPointerPosition(event);this._panStart.set(.5*(event.pageX+position.x),.5*(event.pageY+position.y))}}},{key:"_handleTouchStartDolly",value:function(event){var position=this._getSecondPointerPosition(event),dx=event.pageX-position.x;event=event.pageY-position.y;this._dollyStart.set(0,Math.sqrt(dx*
dx+event*event))}},{key:"_handleTouchStartDollyPan",value:function(event){this.enableZoom&&this._handleTouchStartDolly(event);this.enablePan&&this._handleTouchStartPan(event)}},{key:"_handleTouchStartDollyRotate",value:function(event){this.enableZoom&&this._handleTouchStartDolly(event);this.enableRotate&&this._handleTouchStartRotate(event)}},{key:"_handleTouchMoveRotate",value:function(event){if(1==this._pointers.length)this._rotateEnd.set(event.pageX,event.pageY);else{var position=this._getSecondPointerPosition(event);
this._rotateEnd.set(.5*(event.pageX+position.x),.5*(event.pageY+position.y))}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);event=this.domElement;this._rotateLeft(_twoPI*this._rotateDelta.x/event.clientHeight);this._rotateUp(_twoPI*this._rotateDelta.y/event.clientHeight);this._rotateStart.copy(this._rotateEnd)}},{key:"_handleTouchMovePan",value:function(event){if(1===this._pointers.length)this._panEnd.set(event.pageX,event.pageY);else{var position=
this._getSecondPointerPosition(event);this._panEnd.set(.5*(event.pageX+position.x),.5*(event.pageY+position.y))}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed);this._pan(this._panDelta.x,this._panDelta.y);this._panStart.copy(this._panEnd)}},{key:"_handleTouchMoveDolly",value:function(event){var position=this._getSecondPointerPosition(event),dx=event.pageX-position.x,dy=event.pageY-position.y;this._dollyEnd.set(0,Math.sqrt(dx*dx+dy*dy));this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/
this._dollyStart.y,this.zoomSpeed));this._dollyOut(this._dollyDelta.y);this._dollyStart.copy(this._dollyEnd);this._updateZoomParameters(.5*(event.pageX+position.x),.5*(event.pageY+position.y))}},{key:"_handleTouchMoveDollyPan",value:function(event){this.enableZoom&&this._handleTouchMoveDolly(event);this.enablePan&&this._handleTouchMovePan(event)}},{key:"_handleTouchMoveDollyRotate",value:function(event){this.enableZoom&&this._handleTouchMoveDolly(event);this.enableRotate&&this._handleTouchMoveRotate(event)}},
{key:"_addPointer",value:function(event){this._pointers.push(event.pointerId)}},{key:"_removePointer",value:function(event){delete this._pointerPositions[event.pointerId];for(var i=0;i<this._pointers.length;i++)if(this._pointers[i]==event.pointerId){this._pointers.splice(i,1);break}}},{key:"_isTrackingPointer",value:function(event){for(var i=0;i<this._pointers.length;i++)if(this._pointers[i]==event.pointerId)return!0;return!1}},{key:"_trackPointer",value:function(event){var position=this._pointerPositions[event.pointerId];
void 0===position&&(position=new _three.Vector2,this._pointerPositions[event.pointerId]=position);position.set(event.pageX,event.pageY)}},{key:"_getSecondPointerPosition",value:function(event){return this._pointerPositions[event.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0]]}},{key:"_customWheelEvent",value:function(event){var newEvent={clientX:event.clientX,clientY:event.clientY,deltaY:event.deltaY};switch(event.deltaMode){case 1:newEvent.deltaY*=16;break;case 2:newEvent.deltaY*=
100}event.ctrlKey&&!this._controlActive&&(newEvent.deltaY*=10);return newEvent}}]);return OrbitControls}(_three.Controls);exports.OrbitControls=global}
//# sourceMappingURL=module$node_modules$three$examples$jsm$controls$OrbitControls.js.map
