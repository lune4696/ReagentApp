{"version":3,"sources":["app/plot.cljs"],"mappings":";;AAIA,AAAA,AAAAA,AAAMM;AAAN,AAAA,AAAAL,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAA,AAAAI,AAAAJ,AAAA,AAAoBM;AAApB,AAAAF,AAAAJ,AAAA,AAAyBO;AAAzB,AAAAH,AAAAJ,AAAA,AAAgCQ;AAAhC,AACE,AAAAC,AAAA,AAAAC,AAAA;AAAA,AAAA,AAAAC,AAAAC;AAAA,AAAA,AAAA,AAAAD,AAAA;AAAA;AAAA,AAAAE,AAAAF;AAAA,AAAA,AAAA,AAAA,AAAAF,AAAA,AAAAI;AAAA,AAAA,AAAAC;AAAA,AAAA,AAAA,AAAAC,AAAAC,AAAAC,AAAA,AAAA,AAAA;;AAAA;;AAAA;;AAAA,AAAA,AAAAR,AAAA,AAAAI;;;AAAA,AAAAK,AAAA,AAAA,AAAAT,AAAA;AAAA,AAAA,AAAAS,AAAA,AAAAC,AAAA,AAAAV,AAAA,AAAA,AAAAA,AAAA,AACKc,AAAE,AAAKC;AAAL,AACE,AAAMA;AAAN,AACE,AAACC,AAAOjB,AAAKgB;;AACb,AAAA,AAACE;AAAD,AAAiB,AAAA,AAAAC,AAAUC,AAAQpB,AAAK,AAAA,AAAAmB,AAACE,AAASvB,AAAM,AAAA,AAAAqB,AAACE,AAAStB;;;AAFpE;;AAFT,AAAAE,AAAA;AAAAW,AAAA,AAAA,AAAA,AAAA,AAAA,AAKgBG;AALhB,AAAA,AAAAF,AAAA;AAAA,AAMa,AAAA,AAAAM,AAAOnB;AAAP,AAAY,AAAA,AAAAmB,AAAQC,AAAQpB;;AAA5B;;;AANb,AAAA,AAAA,AAAAc;AAAA,AAAA,AAAA,AAAAb,AAAA;AAAA,AAAA,AAAA,AAAAA,AAAAY;;AAAA;;AAAA,AAAAA;;;AAAAD;;AAQF,AAAA,AAAAU,AAAME;AAAN,AAAA,AAAAD,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA9B,AAAA,AAAA8B,AAAA,AAAA,AAAA,AAAA,AAAA7B,AAAAC,AAAA4B,AAAAA;AAAA,AAAA3B,AAAA2B,AAAA,AAA2BzB;AAA3B,AAAAF,AAAA2B,AAAA,AAAgCvB;AAAhC,AACE,AAAA,AAAA,AAAA,AAAA,AAACiB,AAAOnB,AAAe,AAAC2B,AAAO,AAACC,AAAIC,AAAU,AAAA,AAACC,AAChB,AAAA,AAAAC,AAACH,AAAc,AAAA,AAACE;AAAhB,AAAM,AAAA,AAAAC;AADrC,AAAA,AACuB,AAACJ;;AAExB,AAAA,AAAAN,AAAOnB;AAAP,AACE,AAAA,AAAAmB,AAAQC,AAAQpB,AAAK,AAAA,AAAAmB,AAACE,AAASvB,AAAM,AAAA,AAACuB;;AADxC","names":["p__47983","map__47984","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","cljs.core.get","app.plot/plot","data","layout","node","with-let47986","reagent.ratom/with-let-values","temp__5739__auto__","reagent.ratom/*ratom-context*","c__38041__auto__","reagent.debug/has-console","reagent.debug/tracking","reagent.debug/track-console","js/console","init47987","cljs.core/not","res47988","destroy__38040__auto__","reagent.ratom/reactive?","f","el","cljs.core/reset!","reagent.core/after-render","cljs.core/deref","js/module$node_modules$plotly_DOT_js_dist_min$plotly_min","cljs.core/clj->js","p__47990","map__47991","app.plot/update-plot","cljs.core.range","cljs.core.map","cljs.core/identity","cljs.core.take","p1__47989#"],"sourcesContent":["(ns app.plot\n  (:require [reagent.core :as r]\n            [\"plotly.js-dist-min\" :as Plotly]))\n\n(defn plot [{:keys [data layout node]}]\n  (r/with-let\n      [f (fn [el]\n           (when el\n             (reset! node el)\n             (r/after-render #(.newPlot Plotly @node (clj->js @data) (clj->js @layout)))))]\n      [:div {:ref f}]\n      (finally (when @node (.purge Plotly @node)))))\n\n(defn update-plot [{:keys [data node]}]\n  (reset! data [{:x (->> (range) (map identity) (take 5))\n                 :y (->> (range) (map #(* 2 %)) (take 5))\n                 :type \"scatter\"}])\n  (when @node\n    (.react Plotly @node (clj->js @data) (clj->js nil))))\n"]}